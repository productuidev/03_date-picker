var o=Object.defineProperty;var c=(n,t,e)=>t in n?o(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var i=(n,t,e)=>(c(n,typeof t!="symbol"?t+"":t,e),e),d=(n,t,e)=>{if(!t.has(n))throw TypeError("Cannot "+e)},s=(n,t,e)=>(d(n,t,"read from private field"),e?e.call(n):t.get(n)),r=(n,t,e,l)=>(d(n,t,"write to private field"),l?l.call(n,e):t.set(n,e),e);var a;class DatePicker{constructor(){i(this,"monthData",["January","February","March","April","May","June","July","August","September","October","November","December"]);a.set(this,{data:"",date:0,month:0,year:0});i(this,"selectedDate",{data:"",date:0,month:0,year:0});i(this,"datePickerEl");i(this,"dateInputEl");i(this,"calendarEl");i(this,"calendarMonthEl");i(this,"montnContentEl");i(this,"nextBtnEl");i(this,"prevBtnEl");i(this,"calendarDatesEl");this.initCalendarDate(),this.initSelectedDate(),this.assignElement(),this.setDateInput(),this.addEvent()}initSelectedDate(){this.selectedDate={...s(this,a)}}setDateInput(){this.dateInputEl.textContent=this.formateDate(this.selectedDate.data),this.dateInputEl.dataset.value=this.selectedDate.data}initCalendarDate(){const t=new Date,e=t.getDate(),l=t.getMonth(),h=t.getFullYear();r(this,a,{data:t,date:e,month:l,year:h})}assignElement(){this.datePickerEl=document.getElementById("date-picker"),this.dateInputEl=this.datePickerEl.querySelector("#date-input"),this.calendarEl=this.datePickerEl.querySelector("#calendar"),this.calendarMonthEl=this.calendarEl.querySelector("#month"),this.monthContentEl=this.calendarMonthEl.querySelector("#content"),this.nextBtnEl=this.calendarMonthEl.querySelector("#next"),this.prevBtnEl=this.calendarMonthEl.querySelector("#prev"),this.calendarDatesEl=this.calendarEl.querySelector("#dates")}addEvent(){this.dateInputEl.addEventListener("click",this.toggleCalendar.bind(this)),this.nextBtnEl.addEventListener("click",this.moveToNextMonth.bind(this)),this.prevBtnEl.addEventListener("click",this.moveToPrevMonth.bind(this)),this.calendarDatesEl.addEventListener("click",this.onClickSelectDate.bind(this))}onClickSelectDate(){const t=event.target;t.dataset.date&&(this.calendarDatesEl.querySelector(".selected")?.classList.remove("selected"),t.classList.add("selected"),this.selectedDate={data:new Date(s(this,a).year,s(this,a).month,t.dataset.date),year:s(this,a).year,month:s(this,a).month,date:t.dataset.date},this.setDateInput(),this.calendarEl.classList.remove("active"))}formateDate(t){let e=t.getDate();e<10&&(e=`0${e}`);let l=t.getMonth()+1;return l<10&&(l=`0${l}`),`${t.getFullYear()}/${l}/${e}`}moveToNextMonth(){s(this,a).month++,s(this,a).month>11&&(s(this,a).month=0,s(this,a).year++),this.updateMonth(),this.updateDates()}moveToPrevMonth(){s(this,a).month--,s(this,a).month<0&&(s(this,a).month=11,s(this,a).year--),this.updateMonth(),this.updateDates()}toggleCalendar(){this.calendarEl.classList.contains("active")&&r(this,a,{...this.selectedDate}),this.calendarEl.classList.toggle("active"),this.updateMonth(),this.updateDates()}updateMonth(){this.monthContentEl.textContent=`${s(this,a).year} ${this.monthData[s(this,a).month]}`}updateDates(){this.calendarDatesEl.innerHTML="";const t=new Date(s(this,a).year,s(this,a).month+1,0).getDate(),e=new DocumentFragment;for(let l=0;l<t;l++){const h=document.createElement("div");h.classList.add("date"),h.textContent=l+1,h.dataset.date=l+1,e.appendChild(h)}e.firstChild.style.gridColumnStart=new Date(s(this,a).year,s(this,a).month,1).getDay()+1,this.calendarDatesEl.appendChild(e),this.colorSaturday(),this.colorSunday(),this.markToday(),this.markSelectedDate()}markToday(){const t=new Date,e=t.getMonth(),l=t.getFullYear(),h=t.getDate();l===s(this,a).year&&e===s(this,a).month&&this.calendarDatesEl.querySelector(`[data-date='${h}']`).classList.add("today")}markSelectedDate(){this.selectedDate.year===s(this,a).year&&this.selectedDate.month===s(this,a).month&&this.calendarDatesEl.querySelector(`[data-date='${this.selectedDate.date}']`).classList.add("selected")}colorSaturday(){const t=this.calendarDatesEl.querySelectorAll(`.date:nth-child(7n+${7-new Date(s(this,a).year,s(this,a).month,1).getDay()})`);for(let e=0;e<t.length;e++)t[e].style.color="blue"}colorSunday(){const t=this.calendarDatesEl.querySelectorAll(`.date:nth-child(7n+${(8-new Date(s(this,a).year,s(this,a).month,1).getDay())%7})`);for(let e=0;e<t.length;e++)t[e].style.color="red"}}a=new WeakMap,new DatePicker;
